(function(){var e=!0,j=null,q=!1;
KolorArea=function(B,r){function M(){if(a.close_displayed!==q){var b=d.find(".kolorAreaCloseBtn");""!=a.close_image?(b.css("height",m+"px"),b.css("background","url("+a.close_image+") no-repeat"),!kolorBrowserDetect.isIE()||kolorBrowserDetect.isAtLeastIEX(9)?b.css("background-size","contain"):b.css("width",m+"px")):((!kolorBrowserDetect.isIE()||kolorBrowserDetect.isAtLeastIEX(9))&&b.css("background-size",m+"px"),b.css("width",m+"px"),b.css("height",m+"px"));b.unbind("click").bind("click",function(a){ktools.DOM.stopEventPropagation(a);
u.b()})}}function C(){if(a.overlay_displayed===e){var b=d.find(".kolorAreaOverlay");if(""!=a.overlay_image){if(b.css("-ms-filter","alpha(opacity="+100*a.overlay_alpha+")"),b.css("filter","alpha(opacity="+100*a.overlay_alpha+")"),b.css("opacity",a.overlay_alpha),b.css("background","#"+a.overlay_color+" url("+a.overlay_image+") no-repeat center"),!kolorBrowserDetect.isIE()||kolorBrowserDetect.isAtLeastIEX(9))b.css("-webkit-background-size","cover"),b.css("-moz-background-size","cover"),b.css("-o-background-size",
"cover"),b.css("background-size","cover")}else b.css("-ms-filter","alpha(opacity="+100*a.overlay_alpha+")"),b.css("filter","alpha(opacity="+100*a.overlay_alpha+")"),b.css("opacity",a.overlay_alpha),b.css("background","#"+a.overlay_color);b.css("width",f+"px");b.css("height",g+"px");b.unbind("click").bind("click",function(a){ktools.DOM.stopEventPropagation(a);u.b()})}}function D(a,c){var h=d.find(".kolorArea"),f=ktools.Color.hex2rgb(a);"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?
h.css("background","rgb("+f[0]+","+f[1]+","+f[2]+")"):h.css("background","rgba("+f[0]+","+f[1]+","+f[2]+","+c+") padding-box")}function v(){w=e;d.find(".kolorArea").stop();d.find(".kolorArea").css("top",n+"px");d.find(".kolorArea").css("left",s+"px")}function x(){w=q;d.find(".kolorArea").stop();d.find(".kolorArea").css("top",y+"px");d.find(".kolorArea").css("left",z+"px")}function E(){var b=d.find(".kolorArea"),c=a.area_width,h=a.area_height;"percent"==a.area_width_unit?c=f/100*c-a.margin_x-2*a.area_border_width:
document.documentElement.clientWidth<c+2*a.area_border_width+ +a.margin_x&&(c=document.documentElement.clientWidth-2*a.area_border_width-a.margin_x);"percent"==a.area_height_unit?h=g/100*h-a.margin_y-2*a.area_border_width:document.documentElement.clientHeight<h+2*a.area_border_width+a.margin_y&&(h=document.documentElement.clientHeight-2*a.area_border_width-a.margin_y);b.css("width",c);b.css("height",h);b.find(".kolorAreaContent").css("width",c-2*a.padding+"px");a.close_displayed===e?b.find(".kolorAreaTitle").css("width",
c-2*a.padding-m+"px"):a.display_title===e&&b.find(".kolorAreaTitle").css("width",c-2*a.padding+"px");a.display_title===e||a.close_displayed===e?b.find(".kolorAreaContent").css("height",h-2*a.padding-m-5+"px"):b.find(".kolorAreaContent").css("height",h-2*a.padding+"px")}function F(){var b=0,c=0;switch(a.position){case KolorArea.a.j:b=a.margin_y;c=a.margin_x;break;case KolorArea.a.e:b=a.margin_y;c=(f-k)/2+a.margin_x;break;case KolorArea.a.k:b=a.margin_y;c=f-k-a.margin_x;break;case KolorArea.a.i:b=(g-
l)/2+a.margin_y;c=f-k-a.margin_x;break;case KolorArea.a.h:b=g-l-a.margin_y;c=f-k-a.margin_x;break;case KolorArea.a.f:b=g-l-a.margin_y;c=(f-k)/2+a.margin_x;break;case KolorArea.a.g:b=g-l-a.margin_y;c=a.margin_x;break;case KolorArea.a.d:b=(g-l)/2+a.margin_y;c=a.margin_x;break;case KolorArea.a.r:b=(g-l)/2+a.margin_y,c=(f-k)/2+a.margin_x}n=b;s=c}function G(){var b=0,c=0;switch(a.start_position){case KolorArea.a.j:b=-l;c=-k;break;case KolorArea.a.e:b=-l;c=s;break;case KolorArea.a.k:b=-l;c=f;break;case KolorArea.a.i:b=
n;c=f;break;case KolorArea.a.h:b=g;c=f;break;case KolorArea.a.f:b=g;c=s;break;case KolorArea.a.g:b=g;c=-k;break;case KolorArea.a.d:b=n,c=-k}y=b;z=c}function H(){kolorBrowserDetect.isAtLeastIEX(11)&&document.msFullscreenElement!=j?(k=d.find(".kolorArea").get(0).clientWidth+2*a.area_border_width,l=d.find(".kolorArea").get(0).clientHeight+2*a.area_border_width):(k=d.find(".kolorArea").width()+2*a.area_border_width,l=d.find(".kolorArea").height()+2*a.area_border_width)}function I(){kolorBrowserDetect.isAtLeastIEX(11)&&
document.msFullscreenElement!=j?(f=document.getElementById(r).clientWidth,g=document.getElementById(r).clientHeight):(f=jQuery("#"+r).width(),g=jQuery("#"+r).height())}function N(){I();E();H();F();G();C();"close"==o?x():"open"==o&&v()}function O(b){ktools.DOM.stopEventPropagation(b);u.b();a.close_onclick_callback&&ktools.Code.eval(a.close_onclick_callback)}var a={position:KolorArea.a.d,start_position:KolorArea.a.e,margin_x:50,margin_y:0,padding:15,background_color:"f2f2f2",background_alpha:0.8,topleft_radius:8,
topright_radius:8,bottomleft_radius:8,bottomright_radius:8,area_border_width:0,area_border_color:"f2f2f2",area_border_alpha:1,area_border_style:"solid",area_width:20,area_height:100,area_width_unit:"percent",area_height_unit:"percent",overlay_displayed:q,overlay_color:"000000",overlay_alpha:0.5,overlay_image:"",animation:e,animation_duration:800,close_on_click:q,close_onclick_callback:q,close_callback:q,open_callback:q,close_displayed:q,close_text:"Close",close_image:"",display_title:q,title:"",title_color:"000000",
title_font:"Verdana, Geneva, sans-serif",title_size:"14",title_weight:"bold",title_decoration:"normal",use_i18n:q,zorder:0,device:"desktop",scale_offsets:e,scale:1},f=0,g=0,k=0,l=0,y=0,z=0,n=0,s=0,m=32,d=j,t=j,J=q,w=q,K=q,o=void 0,A=q,L=q,u=this;this.setKolorAreaOptions=this.p=function(b){jQuery.extend(a,b)};this.getKolorAreaOptions=this.t=function(){return a};this.setKolorAreaContent=this.o=function(a){t=a};this.setReady=this.v=function(a){J=a};this.isReady=this.isReady=function(){return J};this.changeLanguage=
this.s=function(b){if(a.use_i18n){var c=q,d=e;b&&b[0]&&"true"==b[0]&&(c=e);b&&b[1]&&"false"==b[1]&&(d=q);this.n(c,d)}};this.refreshKolorArea=this.n=function(b,c){b===e&&this.c(e);c===e&&a.display_title&&this.l([a.title]);a.close_displayed===e&&jQuery(".kolorAreaCloseBtn").prop("title",a.use_i18n?ktools.I18N.getInstance().getMessage(a.close_text):a.close_text)};this.openKolorArea=this.u=function(){var b=A;if(A===q){K||(a.scale_offsets&&(a.margin_x=Math.round(a.margin_x*a.scale),a.margin_y=Math.round(a.margin_y*
a.scale)),a.padding=Math.round(a.padding*a.scale),a.topleft_radius=Math.round(a.topleft_radius*a.scale),a.topright_radius=Math.round(a.topright_radius*a.scale),a.bottomleft_radius=Math.round(a.bottomleft_radius*a.scale),a.bottomright_radius=Math.round(a.bottomright_radius*a.scale),a.area_border_width=Math.round(a.area_border_width*a.scale),"percent"!=a.area_width&&(a.area_width=Math.round(a.area_width*a.scale)),"percent"!=a.area_height_unit&&(a.area_height=Math.round(a.area_height*a.scale)),a.display_title&&
(a.title_size=Math.round(a.title_size*a.scale)),m=Math.round(m*a.scale),K=e);var c='<div id="'+B+'" class="kolorAreaContainer" style="z-index:'+a.zorder+';">',c=c+'<div class="kolorArea">';if(a.close_displayed===e||a.display_title===e)c+='<div class="kolorAreaHeader"><div class="kolorAreaTitle">',""!=a.title&&(c+=a.use_i18n?ktools.I18N.getInstance().getMessage(a.title):a.title),c+="</div>";a.close_displayed===e&&(c+='<a class="kolorAreaCloseBtn" title="'+(a.use_i18n?ktools.I18N.getInstance().getMessage(a.close_text):
a.close_text)+'" />');if(a.close_displayed===e||a.display_title===e)c+="</div>";c+='<div class="kolorAreaContent loading"></div></div>';a.overlay_displayed===e&&(c+='<div class="kolorAreaOverlay"></div>');c+="</div>";kolorBrowserDetect.isIE()&&!kolorBrowserDetect.isEdge()&&(c=toStaticHTML(c));jQuery("#"+r).prepend(c);d=jQuery("#"+B);D(a.background_color,a.background_alpha);var h=a.topleft_radius,f=a.topright_radius,g=a.bottomright_radius,k=a.bottomleft_radius,l=a.area_border_width,n=a.area_border_color,
c=a.area_border_style,p=a.area_border_alpha,i=d.find(".kolorArea");i.css("-moz-border-radius-topleft",h+"px");i.css("border-top-left-radius",h+"px");i.css("-webkit-border-top-left-radius",h+"px");i.css("-moz-border-radius-topright",f+"px");i.css("border-top-right-radius",f+"px");i.css("-webkit-border-top-right-radius",f+"px");i.css("-moz-border-radius-bottomright",g+"px");i.css("border-bottom-right-radius",g+"px");i.css("-webkit-border-bottom-right-radius",g+"px");i.css("-moz-border-radius-bottomleft",
k+"px");i.css("border-bottom-left-radius",k+"px");i.css("-webkit-border-bottom-left-radius",k+"px");i.css("border-width",l+"px");h=ktools.Color.hex2rgb(n);"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?i.css("border-color","rgb("+h[0]+","+h[1]+","+h[2]+")"):i.css("border-color","rgba("+h[0]+","+h[1]+","+h[2]+","+p+")");i.css("border-style",c);c=a.padding;p=d.find(".kolorAreaContent");a.display_title===e||a.close_displayed===e?(i=d.find(".kolorAreaHeader"),i.css("margin",c+"px 0 5px "+
c+"px"),i.css("padding-right",c+"px"),i=d.find(".kolorAreaCloseBtn"),i.css("top",c+"px"),i.css("right",c+"px"),p.css("margin","0 0 "+c+"px "+c+"px")):p.css("margin",c+"px 0 "+c+"px "+c+"px");p.css("padding-right",c+"px");c=a.title_color;p=a.title_font;i=a.title_weight;h=a.title_size;f=a.title_decoration;a.display_title===e&&(g=d.find(".kolorArea .kolorAreaTitle"),g.css("color","#"+c),g.css("font-family",'"'+p+'", sans-serif'),g.css("font-weight",i),g.css("font-size",h+"px"),"mobile"==a.device&&g.css("font-size",
h-2+"px"),g.css("text-decoration",f));a.close_on_click&&d.find(".kolorArea").bind("click",O);L===q&&(jQuery(window).bind("resize",N),L=e);I();E();H();F();G();x();C();M();A=e}if(a.refresh_content||b===q)this.c(a.refresh_content?e:q);o="open";this.q([a.animation]);a.animation||v();(a.refresh_content||b===q)&&a.open_callback&&ktools.Code.eval(a.open_callback)};this.closeKolorArea=this.b=function(){"open"==o&&(o="close",this.m([a.animation]),a.animation||x(),a.close_callback&&ktools.Code.eval(a.close_callback))};
this.showKolorArea=this.q=function(b){d.show();b&&Boolean(b[0]===e||"true"===b[0]||1===parseInt(b[0])||"yes"===b[0]||"on"===b[0])===e?(d.find(".kolorArea").stop(),d.find(".kolorArea").animate({top:n,left:s},a.animation_duration)):w==q&&v();o="open"};this.hideKolorArea=this.m=function(b){b&&Boolean(b[0]===e||"true"===b[0]||1===parseInt(b[0])||"yes"===b[0]||"on"===b[0])===e?(d.find(".kolorArea").stop(),d.find(".kolorArea").animate({top:y,left:z},a.animation_duration,function(){setTimeout(function(){d.hide()},
100)})):d.hide();o="close"};this.updateKolorArea=this.z=function(a){a!=j&&"undefined"!=typeof a&&a[0]!=j&&this.o(a[0]);this.c(e)};this.updateContent=this.c=function(b){if("null"!=t){d.find(".kolorAreaContent").addClass("loading");d.find(".kolorAreaContent").scrollTop(0);var c="",c=b?a.use_i18n?ktools.I18N.getInstance().getMessage(t):ktools.String.decode(t):ktools.String.decode(t);kolorBrowserDetect.isIE()&&!kolorBrowserDetect.isEdge()&&(c=toStaticHTML(c));d.find(".kolorAreaContent").html(c);d.find(".kolorAreaContent").removeClass("loading")}};
this.updateBackgroundColor=this.w=function(b){"undefined"!=typeof b[0]&&(a.background_color=b[0]);"undefined"!=typeof b[1]&&(a.background_alpha=b[1]);D(a.background_color,a.background_alpha)};this.changeTitle=this.l=function(b){""!=a.title||"undefined"!=typeof b[0]&&""!=b[0]?(this.p({title:b[0]}),b=a.use_i18n?ktools.I18N.getInstance().getMessage(a.title):a.title,kolorBrowserDetect.isIE()&&!kolorBrowserDetect.isEdge()&&(b=toStaticHTML(b)),d.find(".kolorAreaTitle").html(b),d.find(".kolorAreaTitle").css("margin-left",
"2px")):d.find(".kolorAreaTitle").html("")}};KolorArea.A={C:"vertical",B:"horizontal"};KolorArea.a={j:"topleft",e:"top",k:"topright",i:"right",h:"bottomright",f:"bottom",g:"bottomleft",d:"left",r:"center"};})();